"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[131],{8877:function(t,e,s){s.d(e,{Z:function(){return d}});var i=s(3396),o=s(9242);function n(t,e,s,n,r,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn top",onMousedown:e[0]||(e[0]=(0,o.iM)((t=>a.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn left",onMousedown:e[1]||(e[1]=(0,o.iM)((t=>a.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn right",onMousedown:e[2]||(e[2]=(0,o.iM)((t=>a.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn bottom",onMousedown:e[3]||(e[3]=(0,o.iM)((t=>a.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32)],64)}var r=s(7139),a={props:["dropWrap","index"],data(){return{questionsList:[]}},computed:{...(0,r.rn)(["questionsList2"])},methods:{...(0,r.OI)(["SAVE_QUESTIONS_LIST"]),dragChangeSize(t,e){const s=this,i=this.$parent.$refs[`dropItem${e}`][0],o={left:this.dropWrap.offsetLeft,right:this.dropWrap.offsetLeft+this.dropWrap.offsetWidth-i.offsetWidth,top:this.dropWrap.offsetTop,bottom:this.dropWrap.offsetTop+this.dropWrap.offsetHeight-i.offsetHeight};let n="";const r=t.clientX,a=t.clientY,u=i.offsetWidth,p=i.offsetHeight,d=i.offsetLeft,h=i.offsetTop;r>d+u-10?n="right":r<d+10&&(n="left"),a>h+p-10?n="bottom":a<h+10&&(n="top"),document.onmousemove=function(t){"left"===n?t.clientX<r&&t.clientX>=o[n]&&(s.questionsList[e].width=u-(t.clientX-r),s.questionsList[e].x=d+(t.clientX-r),i.style.width=u-(t.clientX-r),i.style.left=d+(t.clientX-r)):"right"===n?o[n]>=d+(t.clientX-r)&&(s.questionsList[e].width=u+(t.clientX-r),i.style.width=u+(t.clientX-r)):"top"===n?t.clientY<a&&t.clientY>=o[n]&&(s.questionsList[e].height=p-(t.clientY-a),s.questionsList[e].y=h+(t.clientY-a),i.style.height=p-(t.clientY-a),i.style.top=h+(t.clientY-a)):"bottom"===n&&o[n]>=h+(t.clientY-a)&&(s.questionsList[e].height=p+(t.clientY-a),i.style.height=p+(t.clientY-a))},this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList}),document.onmouseup=function(){document.onmousemove=null}}},mounted(){this.questionsList=this.questionsList2}},u=s(89);const p=(0,u.Z)(a,[["render",n]]);var d=p},4100:function(t,e,s){s.d(e,{Z:function(){return k}});var i=s(3396),o=s(2268),n=s(9242);const r=["onMousedown","data-question-id"],a={class:"d-flex justify-content-between"},u={class:"text-center"},p={key:0},d=["onClick"],h={class:"text-start mb-0"},l=(0,i.Uk)(" 標題 "),c=["onClick","disabled"],f=["onClick"],m=(0,i.Uk)(" 權重："),g=["onUpdate:modelValue"],L=(0,i._)("p",{class:"text-start mb-0"},"內容",-1),y=["onUpdate:modelValue"],q=(0,i._)("p",{class:"text-start mb-0"},"答案",-1),v=["onUpdate:modelValue"],T={key:0};function x(t,e,s,x,I,_){const $=(0,i.up)("DropBtn");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.questionsList2,((e,x)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:`questionItem${x}`,class:(0,o.C_)(["bg-info text-center px-3 py-3",{drop:_.isTeacherQuePage,"drop-style":_.isTeacherQuePage,poa:"/examStart"===t.$route.path||"/youtubeVideo"===t.$route.path}]),onMousedown:t=>_.dragStart(t,`dropItem${x}`),"data-question-id":e.id,ref_for:!0,ref:`dropItem${x}`,style:(0,o.j5)({left:`${_.noTeacherQuePageLoseX(e.x)}px`,top:`${_.noTeacherQuePageLoseY(e.y)}px`,width:`${e.width}px`,height:`${e.height}px`})},[(0,i._)("div",a,[(0,i._)("h3",u,"第"+(0,o.zw)(x+1)+"題",1),_.isTeacherQuePage?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("button",{type:"button",class:"btn btn-danger btn-sm ms-3 d-inline-block",onClick:t=>_.deleteQuestion(e.id)},"X",8,d)])):(0,i.kq)("",!0)]),(0,i._)("div",h,[l,_.isTeacherQuePage?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("button",{type:"button",onClick:t=>_.loseIndex(x),disabled:!t.questionsList2[x].zIndex||t.questionsList2[x].zIndex<=0},"－",8,c),(0,i._)("button",{type:"button",onClick:t=>_.addIndex(x)},"＋",8,f),m,(0,i._)("span",{ref_for:!0,ref:`zIndexNum${x}`},"0",512)],64)):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("input",{type:"text",class:(0,o.C_)({"drop-style":_.isTeacherQuePage}),"onUpdate:modelValue":e=>t.questionsList2[x].title=e},null,10,g),[[n.nr,t.questionsList2[x].title,void 0,{lazy:!0}]]),L,(0,i.wy)((0,i._)("input",{type:"text",class:(0,o.C_)({"drop-style":_.isTeacherQuePage}),"onUpdate:modelValue":e=>t.questionsList2[x].content=e},null,10,y),[[n.nr,t.questionsList2[x].content,void 0,{lazy:!0}]]),q,(0,i.wy)((0,i._)("input",{type:"text",class:(0,o.C_)({"drop-style":_.isTeacherQuePage}),"onUpdate:modelValue":e=>t.questionsList2[x].answer=e},null,10,v),[[n.nr,t.questionsList2[x].answer,void 0,{lazy:!0}]]),_.isTeacherQuePage?((0,i.wg)(),(0,i.iD)("div",T,[(0,i.Wm)($,{dropWrap:s.dropWrap,index:x},null,8,["dropWrap","index"])])):(0,i.kq)("",!0)],46,r)),[[n.F8,Math.floor(s.videoTime)>=e.showTime&&Math.floor(s.videoTime)<=e.showTime+1]]))),128)}var I=s(7139),_=s(8877),$={props:["dropWrap","videoTime"],components:{DropBtn:_.Z},data(){return{questionsList:[],currentPage:""}},computed:{...(0,I.rn)(["questionsList2","plyr"]),isTeacherQuePage(){return"/teacherQuestions"===this.$route.path||"/queGroup"===this.$route.path}},watch:{questionsList2(){this.questionsList=this.questionsList2}},methods:{...(0,I.OI)(["SAVE_QUESTIONS_LIST"]),dragStart(t,e){"A"!==t.target.nodeName&&"BUTTON"!==t.target.nodeName&&this.isTeacherQuePage&&(this.currentDropItem=this.$refs[e][0],this.startX=t.clientX-this.currentDropItem.offsetLeft,this.startY=t.clientY-this.currentDropItem.offsetTop,document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stop))},move(t){this.x=t.clientX-this.startX,this.y=t.clientY-this.startY;const e={left:this.dropWrap.offsetLeft,right:this.dropWrap.offsetLeft+this.dropWrap.offsetWidth-this.currentDropItem.offsetWidth,top:this.dropWrap.offsetTop,bottom:this.dropWrap.offsetTop+this.dropWrap.offsetHeight-this.currentDropItem.offsetHeight};this.x=Math.max(Math.min(this.x,e.right),e.left),this.y=Math.max(Math.min(this.y,e.bottom),e.top);const s=this.currentDropItem.getAttribute("data-question-id"),i=this.questionsList.findIndex((t=>t.id===s));this.questionsList[i].x=this.x,this.questionsList[i].y=this.y,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},stop(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stop)},deleteQuestion(t){const e=this.questionsList.findIndex((e=>e.id===t));this.questionsList.splice(e,1),this.$getMarker(),this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},addIndex(t){this.$refs[`dropItem${t}`][0].style.zIndex++,this.$refs[`zIndexNum${t}`][0].textContent=this.$refs[`dropItem${t}`][0].style.zIndex,this.questionsList[t].zIndex=this.$refs[`dropItem${t}`][0].style.zIndex,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},loseIndex(t){this.$refs[`dropItem${t}`][0].style.zIndex--,this.$refs[`zIndexNum${t}`][0].textContent=this.$refs[`dropItem${t}`][0].style.zIndex,this.questionsList[t].zIndex=this.$refs[`dropItem${t}`][0].style.zIndex,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},noTeacherQuePageLoseX(t){if(this.isTeacherQuePage)return t;{const e=t-this.dropWrap.offsetLeft;return e}},noTeacherQuePageLoseY(t){if(this.isTeacherQuePage)return t;{const e=t-this.dropWrap.offsetTop-12;return e}}},mounted(){this.questionsList=this.questionsList2}},S=s(89);const w=(0,S.Z)($,[["render",x]]);var k=w},4965:function(t,e,s){s.d(e,{Z:function(){return m}});var i=s(3396),o=s(4860);const n=["autoplay"],r=(0,i._)("source",{size:"720",src:o,type:"video/mp4"},null,-1),a=(0,i._)("source",{size:"1080",src:o,type:"video/mp4"},null,-1),u=(0,i._)("track",{default:"",kind:"captions",label:"English captions",src:"../../../assets/video/有聲影片測試.mp4",srclang:"en"},null,-1),p=[r,a,u];function d(t,e,s,o,r,a){const u=(0,i.up)("vue-plyr");return(0,i.wg)(),(0,i.j4)(u,{ref:"plyr"},{default:(0,i.w5)((()=>[(0,i._)("video",{autoplay:!0===t.options.autoplay,controls:"",crossorigin:"",playsinline:"","data-poster":"poster.jpg"},p,8,n)])),_:1},512)}var h=s(7139),l={computed:{...(0,h.rn)(["options"])},methods:{...(0,h.OI)(["PLAYER"])},mounted(){this.$store.commit("PLAYER_INIT",{player:this.$refs.plyr.player})}},c=s(89);const f=(0,c.Z)(l,[["render",d]]);var m=f},4131:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var i=s(3396),o=s(9242);const n={class:"container my-5"},r=(0,i._)("h2",null,"學生考試模擬(教師自行上傳影片)",-1),a={key:0},u=(0,i.Uk)("教師選擇影片 "),p={ref:"autoplayTips",class:"fw-bold border-bottom"},d={class:"text-danger my-5"},h=(0,i.Uk)(' 目前沒有題目唷，請先到"'),l=(0,i.Uk)("教師出題"),c=(0,i.Uk)('"出題目~ ');function f(t,e,s,f,m,g){const L=(0,i.up)("VideoPlyr"),y=(0,i.up)("QuestionsList"),q=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("header",null,[r,t.questionsList2.length>0?((0,i.wg)(),(0,i.iD)("p",a,[u,(0,i._)("span",p,null,512)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("div",{class:"por minSize w-75",onClick:e[0]||(e[0]=(...e)=>t.$goVideoMarkerPosition&&t.$goVideoMarkerPosition(...e)),ref:"dropWrap"},[(0,i.Wm)(L),(0,i.Wm)(y,{dropWrap:m.dropWrap2,videoTime:m.videoTime},null,8,["dropWrap","videoTime"])],512),[[o.F8,t.questionsList2.length>0]]),(0,i.wy)((0,i._)("h3",d,[h,(0,i.Wm)(q,{to:"/teacherQuestions"},{default:(0,i.w5)((()=>[l])),_:1}),c],512),[[o.F8,0===t.questionsList2.length]])])}var m=s(7139),g=s(4965),L=s(4100),y={components:{VideoPlyr:g.Z,QuestionsList:L.Z},data(){return{player:"",videoTime:"",dropWrap2:"",questionsList:[]}},computed:{...(0,m.rn)(["options","plyr","questionsList2"])},mounted(){if(0===this.questionsList2.length)return;this.player=this.plyr,this.questionsList=this.questionsList2,this.dropWrap2=this.$refs.dropWrap;const t=this.options.autoplay;this.$refs.autoplayTips.textContent=t?"自動播放":"手動播放",this.player.config.invertTime=!1,setTimeout((()=>{this.$getMarker(),this.$hoverMarkerTips()}),100),this.player.on("timeupdate",(t=>{this.videoTime=this.player.currentTime,this.$questionShowVidStop()}))}},q=s(89);const v=(0,q.Z)(y,[["render",f]]);var T=v},4860:function(t,e,s){t.exports=s.p+"media/有聲影片測試.2f7692a8.mp4"}}]);
//# sourceMappingURL=131.af410e81.js.map