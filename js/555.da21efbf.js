"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[555],{6555:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var s=i(3396);function o(t,e,i,o,r,n){const l=(0,s.up)("FirstTest");return(0,s.wg)(),(0,s.j4)(l)}var r=i(2268),n=i(9242),l=i(4860);const a=(0,s._)("video",{controls:"",crossorigin:"",playsinline:"","data-poster":"poster.jpg"},[(0,s._)("source",{size:"720",src:l,type:"video/mp4"}),(0,s._)("source",{size:"1080",src:l,type:"video/mp4"}),(0,s._)("track",{default:"",kind:"captions",label:"English captions",src:"../assets/video/有聲影片測試.mp4",srclang:"en"})],-1),u=["onUpdate:modelValue"],p=(0,s.Uk)(),c=(0,s._)("br",null,null,-1),d=["onClick"];function m(t,e,i,o,l,m){const h=(0,s.up)("vue-plyr");return(0,s.wg)(),(0,s.iD)("div",{class:"w-75 por",onClick:e[0]||(e[0]=(...t)=>m.goVideoMarkerPosition&&m.goVideoMarkerPosition(...t))},[(0,s.Wm)(h,{options:l.options,ref:"plyr"},{default:(0,s.w5)((()=>[a])),_:1},8,["options"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.questionsList,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:`question${e}`},[l.videoTime>=t.showTime&&l.videoTime<=t.showTime+.5?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"w30 poa bg-info text-center px-3 py-3",ref_for:!0,ref:t.id,style:(0,r.j5)({top:t.top,left:t.left})},[(0,s._)("h3",null,(0,r.zw)(t.title),1),(0,s._)("p",null,(0,r.zw)(t.question),1),(0,s.wy)((0,s._)("input",{type:"text",class:"box2 mx-auto d-block my-2",placeholder:"答案","onUpdate:modelValue":t=>l.studentAsnwer[e]=t},null,8,u),[[n.nr,l.studentAsnwer[e]]]),p,c,(0,s._)("button",{type:"button",class:"mx-auto d-block my-2",onClick:i=>m.checkAnswer(e,t.id)},"核對答案",8,d)],4)):(0,s.kq)("",!0)],64)))),128))])}var h=i(2481),w={data(){return{player:"",videoTime:0,vidStopLock:!1,lockTime:0,questionsList:[{id:"AA",title:"數學考題",question:"1+1=?",answer:"2",showTime:2,top:"30%",left:"15%"},{id:"BB",title:"填空題",question:"星期二的前一天是星期?",answer:"一",showTime:4,top:"30%",left:"25%"},{id:"CC",title:"超簡單的題",question:'答案為"測試題"',answer:"測試題",showTime:6,top:"30%",left:"40%"},{id:"DD",title:"沒有梗了題",question:'答案為"測試題"',answer:"測試題",showTime:77,top:"30%",left:"55%"},{id:"EE",title:"點我看看題",question:'答案為"測試題"',answer:"測試題",showTime:33,top:"30%",left:"15%"},{id:"FF",title:"想不到名字的題",question:'答案為"測試題"',answer:"測試題",showTime:18,top:"30%",left:"40%"},{id:"GG",title:"送分題",question:'答案為"測試題"',answer:"測試題",showTime:120,top:"30%",left:"20%"},{id:"HH",title:"超難題",question:'答案為"測試題"',answer:"測試題",showTime:99,top:"30%",left:"35%"},{id:"II",title:"考古題",question:'答案為"測試題"',answer:"測試題",showTime:160,top:"30%",left:"40%"}],studentAsnwer:{},currentProgress:0,options:{markers:{enabled:!0,points:[{time:10,tip:"first marker"},{time:20,tipHTML:"<strong>second</strong> marker"}]}},markers:{enabled:!0,points:[{time:10,tip:"first marker"},{time:20,tipHTML:"<strong>second</strong> marker"}]}}},methods:{checkAnswer(t,e){this.$refs[e][0].classList.add("d-none"),this.player.play()},getMarker(){const t=this.player.elements.progress;setTimeout((()=>{t.classList.add("por"),this.questionsList.forEach((e=>{const i=Math.floor(e.showTime/this.player.duration*100),s=document.createElement("button");s.classList.add("box"),s.setAttribute("type","button"),s.setAttribute("style",`left:${i}%`),s.setAttribute("data-questionTime",e.showTime),s.setAttribute("title",e.title),s.setAttribute("data-bs-toggle","tooltip"),s.setAttribute("data-bs-placement","bottom"),t.appendChild(s)}));const e=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));e.forEach((function(t){return new h.Z(t)}))}),500)},currentMarkStyle(){const t=this.player.elements.progress.children;t.forEach((e=>{const i=parseInt(e.getAttribute("data-questiontime"));i===Math.floor(this.videoTime)?e.style.backgroundColor="blue":(e.style.backgroundColor="red",t[0].style.removeProperty("background-color"),t[1].style.removeProperty("background-color"),t[2].style.removeProperty("background-color"))}))},goVideoMarkerPosition(t){const e=null!==t.target.getAttribute("data-questionTime");if(e){const e=t.target.getAttribute("data-questionTime");console.log(e),this.player.currentTime=parseInt(e)}}},mounted(){console.log(this.$refs.plyr.player),this.player=this.$refs.plyr.player,this.player.config.invertTime=!1,this.getMarker(),this.player.on("timeupdate",(t=>{this.videoTime=this.player.currentTime,this.questionsList.forEach(((t,e)=>{this.videoTime>=t.showTime&&this.videoTime<=t.showTime+.5&&(this.vidStopLock||(this.vidStopLock=!0,setTimeout((()=>{this.player.pause()}),200))),this.currentMarkStyle(),this.questionsList[e+1]?(this.lockTime=this.videoTime>=this.questionsList[e+1].showTime&&this.videoTime<=this.questionsList[e+1].showTime+.5,this.lockTime&&(
//! console.log('我該不會執行了吧!')
this.vidStopLock=!1)):this.videoTime>=this.questionsList[this.questionsList.length-1].showTime+.5&&(
//! console.log('最後一題~解除鎖定')
this.vidStopLock=!1)}))}))}},k=i(89);const y=(0,k.Z)(w,[["render",m]]);var T=y,f={name:"HomeView",components:{FirstTest:T}};const g=(0,k.Z)(f,[["render",o]]);var b=g},4860:function(t,e,i){t.exports=i.p+"media/有聲影片測試.2f7692a8.mp4"}}]);
//# sourceMappingURL=555.da21efbf.js.map