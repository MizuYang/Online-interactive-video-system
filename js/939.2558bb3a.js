"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[939],{8877:function(t,e,s){s.d(e,{Z:function(){return p}});var i=s(3396),o=s(9242);function n(t,e,s,n,u,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn top",onMousedown:e[0]||(e[0]=(0,o.iM)((t=>r.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn left",onMousedown:e[1]||(e[1]=(0,o.iM)((t=>r.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn right",onMousedown:e[2]||(e[2]=(0,o.iM)((t=>r.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32),(0,i._)("a",{href:"javascript:;",class:"changeSizeBtn bottom",onMousedown:e[3]||(e[3]=(0,o.iM)((t=>r.dragChangeSize(t,s.index)),["prevent","stop"]))},null,32)],64)}var u=s(7139),r={props:["dropWrap","index"],data(){return{questionsList:[]}},computed:{...(0,u.rn)(["questionsList2"])},methods:{...(0,u.OI)(["SAVE_QUESTIONS_LIST"]),dragChangeSize(t,e){const s=this,i=this.$parent.$refs[`dropItem${e}`][0],o={left:this.dropWrap.offsetLeft,right:this.dropWrap.offsetLeft+this.dropWrap.offsetWidth-i.offsetWidth,top:this.dropWrap.offsetTop,bottom:this.dropWrap.offsetTop+this.dropWrap.offsetHeight-i.offsetHeight};let n="";const u=t.clientX,r=t.clientY,a=i.offsetWidth,l=i.offsetHeight,p=i.offsetLeft,d=i.offsetTop;u>p+a-10?n="right":u<p+10&&(n="left"),r>d+l-10?n="bottom":r<d+10&&(n="top"),document.onmousemove=function(t){"left"===n?t.clientX<u&&t.clientX>=o[n]&&(s.questionsList[e].width=a-(t.clientX-u),s.questionsList[e].x=p+(t.clientX-u),i.style.width=a-(t.clientX-u),i.style.left=p+(t.clientX-u)):"right"===n?o[n]>=p+(t.clientX-u)&&(s.questionsList[e].width=a+(t.clientX-u),i.style.width=a+(t.clientX-u)):"top"===n?t.clientY<r&&t.clientY>=o[n]&&(s.questionsList[e].height=l-(t.clientY-r),s.questionsList[e].y=d+(t.clientY-r),i.style.height=l-(t.clientY-r),i.style.top=d+(t.clientY-r)):"bottom"===n&&o[n]>=d+(t.clientY-r)&&(s.questionsList[e].height=l+(t.clientY-r),i.style.height=l+(t.clientY-r))},this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList}),document.onmouseup=function(){document.onmousemove=null}}},mounted(){this.questionsList=this.questionsList2}},a=s(89);const l=(0,a.Z)(r,[["render",n]]);var p=l},4965:function(t,e,s){s.d(e,{Z:function(){return L}});var i=s(3396),o=s(4860);const n=["autoplay"],u=(0,i._)("source",{size:"720",src:o,type:"video/mp4"},null,-1),r=(0,i._)("source",{size:"1080",src:o,type:"video/mp4"},null,-1),a=(0,i._)("track",{default:"",kind:"captions",label:"English captions",src:"../../../assets/video/有聲影片測試.mp4",srclang:"en"},null,-1),l=[u,r,a];function p(t,e,s,o,u,r){const a=(0,i.up)("vue-plyr");return(0,i.wg)(),(0,i.j4)(a,{ref:"plyr"},{default:(0,i.w5)((()=>[(0,i._)("video",{autoplay:!0===t.options.autoplay,controls:"",crossorigin:"",playsinline:"","data-poster":"poster.jpg"},l,8,n)])),_:1},512)}var d=s(7139),h={computed:{...(0,d.rn)(["options"])},methods:{...(0,d.OI)(["PLAYER"])},mounted(){this.$store.commit("PLAYER_INIT",{player:this.$refs.plyr.player})}},c=s(89);const m=(0,c.Z)(h,[["render",p]]);var L=m},3939:function(t,e,s){s.r(e),s.d(e,{default:function(){return ke}});var i=s(3396),o=s(9242);const n={class:"container my-5"},u={class:"my-4"},r=(0,i._)("h2",null,"教師出題(題組)",-1),a=(0,i._)("label",{for:"autoplay"},"自動播放",-1),l={class:"my-3"},p={class:"my-3"},d={class:"my-3"};function h(t,e,s,h,c,m){const L=(0,i.up)("VideoPlyr"),g=(0,i.up)("QueGroupList"),q=(0,i.up)("QueGroupBtnList"),f=(0,i.up)("SettingQue");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",{class:"w-75",onClick:e[0]||(e[0]=(...e)=>t.$goVideoMarkerPosition&&t.$goVideoMarkerPosition(...e)),ref:"dropWrap3"},[(0,i.Wm)(L),(0,i.Wm)(g,{dropWrap:c.dropWrap,videoTime:c.videoTime},null,8,["dropWrap","videoTime"])],512),(0,i._)("div",u,[r,(0,i._)("button",{type:"button",onClick:e[1]||(e[1]=(...t)=>m.addQuestions&&m.addQuestions(...t))},"新增題目"),(0,i.wy)((0,i._)("input",{type:"checkbox",class:"ms-3",id:"autoplay","onUpdate:modelValue":e[2]||(e[2]=e=>t.options.autoplay=e),onChange:e[3]||(e[3]=(...t)=>m.setAutoplay&&m.setAutoplay(...t))},null,544),[[o.e8,t.options.autoplay]]),a,(0,i._)("div",l,[(0,i.Wm)(q,{dropWrap:c.dropWrap,videoTime:c.videoTime},null,8,["dropWrap","videoTime"]),(0,i._)("div",p,[(0,i.Wm)(f)])])]),(0,i._)("div",d,[c.questionsList.length>0?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:e[4]||(e[4]=(...t)=>m.confirmQuestions&&m.confirmQuestions(...t))},"確認出題")):(0,i.kq)("",!0)])])}var c=s(7139),m=s(4965),L=s(2268);const g=["onMousedown","data-question-id"],q={class:"por"},f={class:"text-center"},y={key:0,class:"poa top-0 end-0"},w=["onClick"],_={class:"text-center mb-0"},v=["onClick","disabled"],k=["onClick"],b=(0,i.Uk)(" 權重："),x={key:1},U=(0,i.Uk)(" 輸入答案： "),I=(0,i._)("br",null,null,-1),S=["onUpdate:modelValue"],T={key:2},V={key:3},$={key:4},D={key:5},Q={key:6},W={key:7},z=(0,i._)("div",{class:"text-center"},[(0,i._)("button",{type:"button"},"提交")],-1),C={key:0};function A(t,e,s,n,u,r){const a=(0,i.up)("DropBtn");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.questionsList2,((e,n)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:`questionItem${n}`,class:(0,L.C_)(["bg-info",{drop:r.isTeacherQuePage,"drop-style":r.isTeacherQuePage,poa:"/examStart"===t.$route.path||"/youtubeVideo"===t.$route.path}]),onMousedown:t=>r.dragStart(t,`dropItem_${n}`),"data-question-id":e.id,ref_for:!0,ref:`dropItem_${n}`,style:(0,L.j5)({left:`${r.noTeacherQuePageLoseX(e.x)}px`,top:`${r.noTeacherQuePageLoseY(e.y)}px`,width:`${e.width}px`,height:`${e.height}px`})},[(0,i._)("div",q,[(0,i._)("h3",f,(0,L.zw)(e.group)+(0,L.zw)(n+1),1),r.isTeacherQuePage?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("button",{type:"button",class:"btn btn-danger btn-sm ms-3 d-inline-block",onClick:t=>r.deleteQuestion(e.id)},"X",8,w)])):(0,i.kq)("",!0)]),(0,i._)("div",_,[r.isTeacherQuePage?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("button",{type:"button",onClick:t=>r.loseIndex(n),disabled:!t.questionsList2[n].zIndex||t.questionsList2[n].zIndex<=0},"－",8,v),(0,i._)("button",{type:"button",onClick:t=>r.addIndex(n)},"＋",8,k),b,(0,i._)("span",{ref_for:!0,ref:`zIndexNum_${n}`},"0",512)],64)):(0,i.kq)("",!0),(0,i._)("p",null,(0,L.zw)(e.heading),1),"文字區塊"===e.group?((0,i.wg)(),(0,i.iD)("div",x,[U,I,(0,i.wy)((0,i._)("textarea",{id:"",cols:"25",rows:"4","onUpdate:modelValue":t=>u.questionsList[n].studentAanswer=t},null,8,S),[[o.nr,u.questionsList[n].studentAanswer]])])):(0,i.kq)("",!0),"單選題"===e.group?((0,i.wg)(),(0,i.iD)("div",T," 單選題 ")):(0,i.kq)("",!0),"複選題"===e.group?((0,i.wg)(),(0,i.iD)("div",V," 複選題 ")):(0,i.kq)("",!0),"克漏字"===e.group?((0,i.wg)(),(0,i.iD)("div",$," 克漏字 ")):(0,i.kq)("",!0),"重組題"===e.group?((0,i.wg)(),(0,i.iD)("div",D," 重組題 ")):(0,i.kq)("",!0),"問答題"===e.group?((0,i.wg)(),(0,i.iD)("div",Q," 問答題 ")):(0,i.kq)("",!0),"題組"===e.group?((0,i.wg)(),(0,i.iD)("div",W," 題組 ")):(0,i.kq)("",!0),z]),r.isTeacherQuePage?((0,i.wg)(),(0,i.iD)("div",C,[(0,i.Wm)(a,{dropWrap:s.dropWrap,index:n},null,8,["dropWrap","index"])])):(0,i.kq)("",!0)],46,g)),[[o.F8,Math.floor(s.videoTime)>=e.showTime&&Math.floor(s.videoTime)<=e.showTime+1]]))),128)}var E=s(8877),M={props:["dropWrap","videoTime"],components:{DropBtn:E.Z},data(){return{questionsList:[],currentPage:""}},computed:{...(0,c.rn)(["questionsList2","plyr"]),isTeacherQuePage(){return"/teacherQuestions"===this.$route.path||"/queGroup"===this.$route.path}},watch:{questionsList2(){this.questionsList=this.questionsList2}},methods:{...(0,c.OI)(["SAVE_QUESTIONS_LIST"]),dragStart(t,e){"A"!==t.target.nodeName&&"BUTTON"!==t.target.nodeName&&this.isTeacherQuePage&&(this.currentDropItem=this.$refs[e][0],this.startX=t.clientX-this.currentDropItem.offsetLeft,this.startY=t.clientY-this.currentDropItem.offsetTop,document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.stop))},move(t){this.x=t.clientX-this.startX,this.y=t.clientY-this.startY;const e={left:this.dropWrap.offsetLeft,right:this.dropWrap.offsetLeft+this.dropWrap.offsetWidth-this.currentDropItem.offsetWidth,top:this.dropWrap.offsetTop,bottom:this.dropWrap.offsetTop+this.dropWrap.offsetHeight-this.currentDropItem.offsetHeight};this.x=Math.max(Math.min(this.x,e.right),e.left),this.y=Math.max(Math.min(this.y,e.bottom),e.top);const s=this.currentDropItem.getAttribute("data-question-id"),i=this.questionsList.findIndex((t=>t.id===s));this.questionsList[i].x=this.x,this.questionsList[i].y=this.y,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},stop(){document.removeEventListener("mousemove",this.move),document.removeEventListener("mouseup",this.stop)},deleteQuestion(t){const e=this.questionsList.findIndex((e=>e.id===t));this.questionsList.splice(e,1),this.$getMarker(),this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},addIndex(t){this.$refs[`dropItem_${t}`][0].style.zIndex++,this.$refs[`zIndexNum_${t}`][0].textContent=this.$refs[`dropItem_${t}`][0].style.zIndex,this.questionsList[t].zIndex=this.$refs[`dropItem_${t}`][0].style.zIndex,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},loseIndex(t){this.$refs[`dropItem_${t}`][0].style.zIndex--,this.$refs[`zIndexNum_${t}`][0].textContent=this.$refs[`dropItem_${t}`][0].style.zIndex,this.questionsList[t].zIndex=this.$refs[`dropItem_${t}`][0].style.zIndex,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},noTeacherQuePageLoseX(t){if(this.isTeacherQuePage)return t;{const e=t-this.dropWrap.offsetLeft;return e}},noTeacherQuePageLoseY(t){if(this.isTeacherQuePage)return t;{const e=t-this.dropWrap.offsetTop-12;return e}}},mounted(){this.questionsList=this.questionsList2}},Y=s(89);const P=(0,Y.Z)(M,[["render",A]]);var N=P;const O=["onClick"];function X(t,e,s,o,n,u){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.queGroupList,(t=>((0,i.wg)(),(0,i.iD)("button",{type:"button",class:"btn btn-sm btn-primary me-1",key:t,onClick:e=>u.addQuestions(t)},(0,L.zw)(t),9,O)))),128)}var G={props:["dropWrap","videoTime"],data(){return{questionsList:[],queGroupList:["文字區塊","單選題","複選題","克漏字","重組題","問答題","題組"]}},computed:{...(0,c.rn)(["plyr"])},methods:{addQuestions(t){this.plyr.pause(),this.questionsList.push({group:t,id:this.randomString(),showTime:Math.floor(this.videoTime),x:this.dropWrap.offsetLeft,y:this.dropWrap.offsetTop,width:248,height:234}),console.log(this.questionsList),this.vidStopDisabled=!0,this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},randomString(){const t=10,e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",s=e.length;let i="";for(let o=0;o<t;o++)i+=e.charAt(Math.floor(Math.random()*s));return i}},mounted(){}};const H=(0,Y.Z)(G,[["render",X]]);var B=H;const Z={class:"row row-cols-5"},j=["for"],K=(0,i.Uk)(),R=(0,i._)("br",null,null,-1),F=["id","onUpdate:modelValue"],J={key:0},tt=(0,i.Uk)(" 輸入答案 "),et=(0,i._)("br",null,null,-1),st=["onUpdate:modelValue"],it={key:1},ot=(0,i.Uk)(" 選擇答案 "),nt=(0,i._)("br",null,null,-1),ut=["name","onUpdate:modelValue","value"],rt=["onUpdate:modelValue"],at=(0,i.Uk)(),lt=(0,i._)("br",null,null,-1),pt=["name","onUpdate:modelValue","value"],dt=["onUpdate:modelValue"],ht=(0,i.Uk)(),ct=(0,i._)("br",null,null,-1),mt=["name","onUpdate:modelValue","value"],Lt=["onUpdate:modelValue"],gt=(0,i.Uk)(),qt=(0,i._)("br",null,null,-1),ft=["name","onUpdate:modelValue","value"],yt=["onUpdate:modelValue"],wt=(0,i.Uk)(),_t=(0,i._)("br",null,null,-1),vt={key:2},kt=(0,i.Uk)(" 選擇答案 "),bt=(0,i._)("br",null,null,-1),xt=["value","onChange"],Ut=["onUpdate:modelValue"],It=(0,i.Uk)(),St=(0,i._)("br",null,null,-1),Tt=["value","onChange"],Vt=["onUpdate:modelValue"],$t=(0,i.Uk)(),Dt=(0,i._)("br",null,null,-1),Qt=["value","onChange"],Wt=["onUpdate:modelValue"],zt=(0,i.Uk)(),Ct=(0,i._)("br",null,null,-1),At=["value","onChange"],Et=["onUpdate:modelValue"],Mt=(0,i.Uk)(),Yt=(0,i._)("br",null,null,-1),Pt={key:3},Nt=(0,i.Uk)(" 輸入答案 "),Ot=(0,i._)("br",null,null,-1),Xt=(0,i.Uk)(" 判斷有幾個問題空格，就迴圈渲染幾個文字欄位 "),Gt=["onUpdate:modelValue"],Ht=(0,i._)("br",null,null,-1),Bt={key:4},Zt={class:"d-flex justify-content-between"},jt=["onUpdate:modelValue","onInput"],Kt=(0,i.Uk)(),Rt=(0,i._)("br",null,null,-1),Ft=["onUpdate:modelValue","onInput"],Jt=(0,i.Uk)(),te=(0,i._)("br",null,null,-1),ee=["onUpdate:modelValue","onInput"],se=(0,i.Uk)(),ie=(0,i._)("br",null,null,-1),oe=["onUpdate:modelValue","onInput"],ne=(0,i.Uk)(),ue=(0,i._)("br",null,null,-1),re=["onDragstart","onDragenter"],ae=(0,i._)("br",null,null,-1),le={key:5},pe=(0,i.Uk)(" 輸入答案 "),de=(0,i._)("br",null,null,-1),he=["onUpdate:modelValue"],ce={key:6},me=(0,i.Uk)(" 輸入答案 "),Le=(0,i._)("br",null,null,-1),ge=["onUpdate:modelValue"];function qe(t,e,s,n,u,r){return(0,i.wg)(),(0,i.iD)("div",Z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.questionsList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"border",key:t.id},[(0,i._)("label",{for:t.id},"題目( "+(0,L.zw)(t.group)+(0,L.zw)(e+1)+" )",9,j),K,R,(0,i.wy)((0,i._)("textarea",{id:t.id,cols:"25",rows:"4","onUpdate:modelValue":t=>u.questionsList[e].heading=t},null,8,F),[[o.nr,u.questionsList[e].heading]]),"文字區塊"===t.group?((0,i.wg)(),(0,i.iD)("div",J,[tt,et,(0,i.wy)((0,i._)("textarea",{id:"",cols:"25",rows:"4","onUpdate:modelValue":t=>u.questionsList[e].answer=t},null,8,st),[[o.nr,u.questionsList[e].answer]]),(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"單選題"===t.group?((0,i.wg)(),(0,i.iD)("div",it,[ot,nt,(0,i.wy)((0,i._)("input",{name:`radio${t.id}`,type:"radio",class:"me-2","onUpdate:modelValue":t=>u.questionsList[e].answer=t,value:u.questionsList[e].op1},null,8,ut),[[o.G2,u.questionsList[e].answer]]),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op1=t},null,8,rt),[[o.nr,u.questionsList[e].op1]]),at,lt,(0,i.wy)((0,i._)("input",{name:`radio${t.id}`,type:"radio",class:"me-2","onUpdate:modelValue":t=>u.questionsList[e].answer=t,value:u.questionsList[e].op2},null,8,pt),[[o.G2,u.questionsList[e].answer]]),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op2=t},null,8,dt),[[o.nr,u.questionsList[e].op2]]),ht,ct,(0,i.wy)((0,i._)("input",{name:`radio${t.id}`,type:"radio",class:"me-2","onUpdate:modelValue":t=>u.questionsList[e].answer=t,value:u.questionsList[e].op3},null,8,mt),[[o.G2,u.questionsList[e].answer]]),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op3=t},null,8,Lt),[[o.nr,u.questionsList[e].op3]]),gt,qt,(0,i.wy)((0,i._)("input",{name:`radio${t.id}`,type:"radio",class:"me-2","onUpdate:modelValue":t=>u.questionsList[e].answer=t,value:u.questionsList[e].op4},null,8,ft),[[o.G2,u.questionsList[e].answer]]),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op4=t},null,8,yt),[[o.nr,u.questionsList[e].op4]]),wt,_t,(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"複選題"===t.group?((0,i.wg)(),(0,i.iD)("div",vt,[kt,bt,(0,i._)("input",{type:"checkbox",class:"me-2",value:u.questionsList[e].op1,onChange:t=>r.getChebxAnswer(t,e,u.questionsList[e].op1)},null,40,xt),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op1=t},null,8,Ut),[[o.nr,u.questionsList[e].op1]]),It,St,(0,i._)("input",{type:"checkbox",class:"me-2",value:u.questionsList[e].op2,onChange:t=>r.getChebxAnswer(t,e,u.questionsList[e].op2)},null,40,Tt),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op2=t},null,8,Vt),[[o.nr,u.questionsList[e].op2]]),$t,Dt,(0,i._)("input",{type:"checkbox",class:"me-2",value:u.questionsList[e].op3,onChange:t=>r.getChebxAnswer(t,e,u.questionsList[e].op3)},null,40,Qt),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op3=t},null,8,Wt),[[o.nr,u.questionsList[e].op3]]),zt,Ct,(0,i._)("input",{type:"checkbox",class:"me-2",value:u.questionsList[e].op4,onChange:t=>r.getChebxAnswer(t,e,u.questionsList[e].op4)},null,40,At),(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op4=t},null,8,Et),[[o.nr,u.questionsList[e].op4]]),Mt,Yt,(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"克漏字"===t.group?((0,i.wg)(),(0,i.iD)("div",Pt,[Nt,Ot,Xt,(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].answer=t},null,8,Gt),[[o.nr,u.questionsList[e].answer]]),Ht,(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"重組題"===t.group?((0,i.wg)(),(0,i.iD)("div",Bt,[(0,i._)("div",Zt,[(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op1=t,size:"11",onInput:t=>r.getQueList(e)},null,40,jt),[[o.nr,u.questionsList[e].op1]]),Kt,Rt,(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op2=t,size:"11",onInput:t=>r.getQueList(e)},null,40,Ft),[[o.nr,u.questionsList[e].op2]]),Jt,te,(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op3=t,size:"11",onInput:t=>r.getQueList(e)},null,40,ee),[[o.nr,u.questionsList[e].op3]]),se,ie,(0,i.wy)((0,i._)("input",{type:"text",class:"mb-1","onUpdate:modelValue":t=>u.questionsList[e].op4=t,size:"11",onInput:t=>r.getQueList(e)},null,40,oe),[[o.nr,u.questionsList[e].op4]]),ne,ue]),(0,i.Wm)(o.W3,{class:"list drop-area-style text-center w-50 p-1",tag:"ul",name:"drag"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.questionsList[e].dropArr,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:`ans${s}`,class:"bg-dark text-light my-1",draggable:"true",onDragstart:t=>r.getDragItemIndex(e,s),onDragenter:(0,o.iM)((t=>r.changePosition(e,s)),["prevent"])},(0,L.zw)(t),41,re)))),128))])),_:2},1024),ae]),(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"問答題"===t.group?((0,i.wg)(),(0,i.iD)("div",le,[pe,de,(0,i.wy)((0,i._)("textarea",{id:"",cols:"25",rows:"4","onUpdate:modelValue":t=>u.questionsList[e].answer=t},null,8,he),[[o.nr,u.questionsList[e].answer]]),(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0),"題組"===t.group?((0,i.wg)(),(0,i.iD)("div",ce,[me,Le,(0,i.wy)((0,i._)("textarea",{id:"",cols:"25",rows:"4","onUpdate:modelValue":t=>u.questionsList[e].answer=t},null,8,ge),[[o.nr,u.questionsList[e].answer]]),(0,i.Uk)(" 答案："+(0,L.zw)(this.questionsList[e].answer),1)])):(0,i.kq)("",!0)])))),128))])}s(6699);var fe={components:{},data(){return{questionsList:[],currentDragIndex:0}},watch:{questionsList2(){this.questionsList=this.questionsList2}},computed:{...(0,c.rn)(["questionsList2"])},methods:{getChebxAnswer(t,e,s){if(this.questionsList[e].answer)if(this.questionsList[e].answer.includes(s)){const t=this.questionsList[e].answer.findIndex((t=>t===s));this.questionsList[e].answer.splice(t,1)}else this.questionsList[e].answer.push(s);else this.questionsList[e].answer=[],this.questionsList[e].answer.push(s);//! 方法一
//! 先判斷questionsList[index].answer(陣列)裡有沒有這個值
//! 如果有，就代表這次點擊是移除，就必須取得索引位置來刪除
//! 如果沒有，就把值push進去questionsList[index].answer
},getQueList(t){this.questionsList[t].dropArr=[];for(let e=0;e<=4;e++)this.questionsList[t][`op${e}`]&&this.questionsList[t].dropArr.push(this.questionsList[t][`op${e}`])},getDragItemIndex(t,e){this.questionsList[t].currentDragIndex=e},changePosition(t,e){const s=this.questionsList[t].dropArr,i=this.questionsList[t].currentDragIndex,o=s[i];s.splice(i,1),s.splice(e,0,o),this.questionsList[t].currentDragIndex=e,this.questionsList[t].answer=s}},mounted(){}};const ye=(0,Y.Z)(fe,[["render",qe]]);var we=ye,_e={components:{VideoPlyr:m.Z,QueGroupList:N,QueGroupBtnList:B,SettingQue:we},data(){return{videoTime:0,lastTime:0,vidStopDisabled:!1,vidBorder:{},startX:"",startY:"",x:"",y:"",dropWrap:"",currentDropItem:"",questionsList:[]}},computed:{...(0,c.rn)(["questionsList2","plyr","options"])},watch:{questionsList:{handler(){this.$hoverMarkerTips()},deep:!0}},methods:{...(0,c.OI)(["SAVE_QUESTIONS_LIST","SAVE_OPTIONS"]),addQuestions(){this.player.pause(),this.questionsList.push({id:this.randomString(),showTime:Math.floor(this.videoTime),x:this.dropWrap.offsetLeft,y:this.dropWrap.offsetTop,width:248,height:234}),this.vidStopDisabled=!0,this.$getMarker(),this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList})},randomString(){const t=10,e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",s=e.length;let i="";for(let o=0;o<t;o++)i+=e.charAt(Math.floor(Math.random()*s));return i},setAutoplay(){localStorage.setItem("vid-autoplay",this.options.autoplay),this.options.autoplay&&this.player.play()},confirmQuestions(){this.$store.commit("SAVE_QUESTIONS_LIST",{questionsList:this.questionsList}),this.$store.commit("SAVE_OPTIONS",{options:this.options}),console.log("題目：",this.questionsList),console.log("配置項目",this.options)}},mounted(){this.player=this.plyr,this.dropWrap=this.$refs.dropWrap3,this.questionsList2.length>0&&(this.questionsList=this.questionsList2,this.$getMarker()),this.player.config.invertTime=!1,this.player.on("timeupdate",(t=>{this.videoTime=this.player.currentTime,this.$questionShowVidStop()}))}};const ve=(0,Y.Z)(_e,[["render",h]]);var ke=ve},4860:function(t,e,s){t.exports=s.p+"media/有聲影片測試.2f7692a8.mp4"}}]);
//# sourceMappingURL=939.2558bb3a.js.map