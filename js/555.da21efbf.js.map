{"version":3,"file":"js/555.da21efbf.js","mappings":"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","sources":["webpack://vue-template/./src/views/MarkerWrap.vue","webpack://vue-template/./src/components/FirstTest.vue","webpack://vue-template/./src/components/FirstTest.vue?96f4","webpack://vue-template/./src/views/MarkerWrap.vue?0a09"],"sourcesContent":["<template>\n  <FirstTest></FirstTest>\n</template>\n\n<script>\nimport FirstTest from '../components/FirstTest.vue'\nexport default {\n  name: 'HomeView',\n  components: {\n    FirstTest\n  }\n}\n</script>\n","<template>\n  <div class=\"w-75 por\" @click=\"goVideoMarkerPosition\">\n    <!-- //* 影片播放器 -->\n    <vue-plyr :options=\"options\" ref=\"plyr\">\n      <video\n        controls\n        crossorigin\n        playsinline\n        data-poster=\"poster.jpg\"\n      >\n        <source\n          size=\"720\"\n          src=\"../assets/video/有聲影片測試.mp4\"\n          type=\"video/mp4\"\n        />\n        <source\n          size=\"1080\"\n          src=\"../assets/video/有聲影片測試.mp4\"\n          type=\"video/mp4\"\n        />\n        <track\n          default\n          kind=\"captions\"\n          label=\"English captions\"\n          src=\"../assets/video/有聲影片測試.mp4\"\n          srclang=\"en\"\n        />\n      </video>\n    </vue-plyr>\n    <!-- //* 題目視窗 -->\n    <template v-for=\"(question, index) in questionsList\" :key=\"`question${index}`\">\n      <div class=\"w30 poa bg-info text-center px-3 py-3\" :ref=\"question.id\" v-if=\"videoTime>=question.showTime&&videoTime<=question.showTime+0.5\"\n        :style=\"{top: question.top, left: question.left}\">\n        <h3>{{ question.title }}</h3>\n        <p>{{ question.question }}</p>\n        <input type=\"text\" class=\"box2 mx-auto d-block my-2\" placeholder=\"答案\" v-model=\"studentAsnwer[index]\"> <br>\n        <button type=\"button\" class=\"mx-auto d-block my-2\" @click=\"checkAnswer(index, question.id)\">核對答案</button>\n      </div>\n    </template>\n  </div>\n\n</template>\n\n<script>\nimport Tooltip from 'bootstrap/js/src/tooltip'\nexport default {\n  data () {\n    return {\n      player: '',\n      videoTime: 0,\n      vidStopLock: false, //* 例:影片2秒顯示題目，此時會暫停影片，但答題後影片仍在兩秒，所以又會直接暫停，所以用此變數鎖定暫停的CD時間\n      lockTime: 0,\n      //* 迴圈渲染到影片中，並使用定位，依據老師當時拖曳的 XY軸座標做定位，並使用 v-if 判斷影片時間在某些區間才顯示該題目\n      questionsList: [\n        {\n          id: 'AA',\n          title: '數學考題',\n          question: '1+1=?',\n          answer: '2',\n          showTime: 2,\n          top: '30%',\n          left: '15%'\n        },\n        {\n          id: 'BB',\n          title: '填空題',\n          question: '星期二的前一天是星期?',\n          answer: '一',\n          showTime: 4,\n          top: '30%',\n          left: '25%'\n        },\n        {\n          id: 'CC',\n          title: '超簡單的題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 6,\n          top: '30%',\n          left: '40%'\n        },\n        {\n          id: 'DD',\n          title: '沒有梗了題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 77,\n          top: '30%',\n          left: '55%'\n        },\n        {\n          id: 'EE',\n          title: '點我看看題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 33,\n          top: '30%',\n          left: '15%'\n        },\n        {\n          id: 'FF',\n          title: '想不到名字的題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 18,\n          top: '30%',\n          left: '40%'\n        },\n        {\n          id: 'GG',\n          title: '送分題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 120,\n          top: '30%',\n          left: '20%'\n        },\n        {\n          id: 'HH',\n          title: '超難題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 99,\n          top: '30%',\n          left: '35%'\n        },\n        {\n          id: 'II',\n          title: '考古題',\n          question: '答案為\"測試題\"',\n          answer: '測試題',\n          showTime: 160,\n          top: '30%',\n          left: '40%'\n        }\n      ],\n      studentAsnwer: {}, //* 學生答案\n      currentProgress: 0,\n      options: {\n        markers: {\n          enabled: true,\n          points: [\n            {\n              time: 10, // marker point time\n              tip: 'first marker' // marker point hover display tip\n            },\n            {\n              time: 20,\n              tipHTML: '<strong>second</strong> marker' // or you can custom marker hover tip by innerHTML\n            }\n          ]\n        }\n      },\n      markers: {\n        enabled: true,\n        points: [\n          {\n            time: 10, // marker point time\n            tip: 'first marker' // marker point hover display tip\n          },\n          {\n            time: 20,\n            tipHTML: '<strong>second</strong> marker' // or you can custom marker hover tip by innerHTML\n          }\n        ]\n      }\n    }\n  },\n\n  methods: {\n    //* 審查答案\n    checkAnswer (index, id) {\n      this.$refs[id][0].classList.add('d-none')\n      this.player.play()\n    },\n    //* 取得時間軸標記\n    getMarker () {\n      //* 先抓到時間軸元素，再將標記樣式定位上去\n      const progessEl = this.player.elements.progress\n      setTimeout(() => {\n      // this.player.currentTime = 100\n      // console.log(this.player.duration)\n      // console.log(this.player.playing)\n        progessEl.classList.add('por')\n        //* 得到問題顯示時間在影片中的%數位置\n        this.questionsList.forEach(item => {\n        //* 題目位置 = 題目位置時間 / 影片總時間 *100\n          const questionTime = Math.floor(item.showTime / this.player.duration * 100)\n          //* 生成題目位置標記\n          const span = document.createElement('button')\n          span.classList.add('box')\n          span.setAttribute('type', 'button')\n          span.setAttribute('style', `left:${questionTime}%`)\n          span.setAttribute('data-questionTime', item.showTime)\n          //* BS5 提示視窗元件\n          span.setAttribute('title', item.title)\n          span.setAttribute('data-bs-toggle', 'tooltip')\n          span.setAttribute('data-bs-placement', 'bottom')\n          progessEl.appendChild(span)\n        })\n\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\n        tooltipTriggerList.forEach(function (tooltipTriggerEl) {\n          return new Tooltip(tooltipTriggerEl)\n        })\n      }, 500)\n    },\n    //* '當前時間軸標記變藍色，否則不變色\n    currentMarkStyle () {\n      //* 抵達時間軸上該標記時，標記變為藍色\n      //* 取出所有標記的元素 (前三個會是套件的元件:時間軸外殼、時間軸條、時間tip)\n      const markers = this.player.elements.progress.children\n      markers.forEach(mark => {\n        const markTime = parseInt(mark.getAttribute('data-questiontime'))\n        //* 如果標記時間 === 當前影片播放的時間，標記變藍色\n        if (markTime === Math.floor(this.videoTime)) {\n          mark.style.backgroundColor = 'blue'\n        } else {\n          //* 如果影片播放時間不是標記時間，則變回紅色\n          mark.style.backgroundColor = 'red'\n          //* 將套件的元件：時間軸外殼、時間軸條、時間tip 移除紅色背景(若不移除也會變紅色)\n          markers[0].style.removeProperty('background-color')\n          markers[1].style.removeProperty('background-color')\n          markers[2].style.removeProperty('background-color')\n        }\n      })\n    },\n    //* 跳轉到題目標記處\n    goVideoMarkerPosition (e) {\n      const isTimelineBtn = e.target.getAttribute('data-questionTime') !== null\n      //* 如果是題目標記才執行\n      if (isTimelineBtn) {\n        const questionTime = e.target.getAttribute('data-questionTime')\n        console.log(questionTime)\n        this.player.currentTime = parseInt(questionTime)\n      }\n    }\n  },\n\n  mounted () {\n    console.log(this.$refs.plyr.player)\n    this.player = this.$refs.plyr.player\n\n    //* 將播放器時間改為\"增量計數器\"而不是倒數計時\n    this.player.config.invertTime = false\n\n    //* 取得時間軸標記\n    this.getMarker()\n\n    //* 影片播放事件(影片播放時觸發)\n    this.player.on('timeupdate', (event) => {\n      // const instance = event.detail.plyr\n      // console.log(instance)\n      this.videoTime = this.player.currentTime\n\n      //* 題目出現時自動暫停\n      this.questionsList.forEach((question, index) => {\n        //* 如果影片時間抵達題目顯示時間時\n        // if (Math.floor(this.videoTime) === question.showTime) {\n        if (this.videoTime >= question.showTime && this.videoTime <= question.showTime + 0.5) {\n          //* 如果沒鎖定暫停影片時\n          if (!this.vidStopLock) {\n            //* 鎖定暫停\n            this.vidStopLock = true\n            //* 顯示題目、暫停播放\n            setTimeout(() => {\n              this.player.pause()\n            }, 200)\n          }\n        }\n        this.currentMarkStyle()\n        // ? 若沒鎖定暫停的話，提交答案後因為影片一樣在設定顯示時間，所以會再度暫停，所以需要將暫停鎖定\n        //* 鎖定時間 = 影片當前時間 >= 下一個題目顯示的時間(鎖定到下一個題目前解除)\n        //* 如果有下一個需顯示的題目才做解除鎖定時間的計算(解決沒下一題計算時跳出的錯誤)\n        if (this.questionsList[index + 1]) {\n          this.lockTime = this.videoTime >= this.questionsList[index + 1].showTime && this.videoTime <= this.questionsList[index + 1].showTime + 0.5\n          // this.lockTime = Math.floor(this.videoTime) === this.questionsList[index + 1].showTime\n          //* 如果影片時間來到下一個題目顯示的時間 (0.5秒後解除鎖定)\n          if (this.lockTime) {\n            //! console.log('我該不會執行了吧!')\n            this.vidStopLock = false\n          }\n        } else if (this.videoTime >= this.questionsList[this.questionsList.length - 1].showTime + 0.5) {\n          //* 如果當前影片時間到顯示最後一題的時間\n          //* 如果沒有下一題，則一秒後自動解除鎖定(自動解除鎖定，若用戶跳回去過去題目顯示的時間，即可正常顯示題目)\n          //! console.log('最後一題~解除鎖定')\n          this.vidStopLock = false\n        }\n      })\n    })\n  }\n}\n</script>\n\n<style lang='scss' scope>\n:root {\n  --plyr-color-main: #1ac266;\n}\n.w30 {\n  max-width: 30%;\n}\n.box2 {\n  max-width: 50%;\n}\n.rwd {\n  max-width: 100%;\n  height: auto;\n}\n.por {\n  position: relative;\n}\n.poa {\n  position: absolute;\n}\n.ball {\n  position: absolute;\n  display: block;\n  border: 3px solid #000;\n  height: 15px;\n  width: 1px;\n  top: 0;\n  z-index: 10;\n}\n.box {\n  position: absolute;\n  top: 0%;\n  left: 0;\n  z-index: 50;\n  padding: 8px 2px;\n  background-color: red;\n}\n.box:hover {\n  background-color: blue;\n}\n</style>\n","import { render } from \"./FirstTest.vue?vue&type=template&id=178f1168\"\nimport script from \"./FirstTest.vue?vue&type=script&lang=js\"\nexport * from \"./FirstTest.vue?vue&type=script&lang=js\"\n\nimport \"./FirstTest.vue?vue&type=style&index=0&id=178f1168&lang=scss&scope=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\marker\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MarkerWrap.vue?vue&type=template&id=a64addd0\"\nimport script from \"./MarkerWrap.vue?vue&type=script&lang=js\"\nexport * from \"./MarkerWrap.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\marker\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_FirstTest","_createElementVNode","controls","crossorigin","playsinline","size","src","_imports_0","type","default","kind","label","srclang","_createElementBlock","class","onClick","$options","_createVNode","_component_vue_plyr","options","$data","ref","_hoisted_1","_Fragment","_renderList","question","index","showTime","id","style","top","left","_toDisplayString","title","placeholder","$event","_hoisted_4","_hoisted_5","data","player","videoTime","vidStopLock","lockTime","questionsList","answer","studentAsnwer","currentProgress","markers","enabled","points","time","tip","tipHTML","methods","checkAnswer","this","$refs","classList","add","play","getMarker","progessEl","elements","progress","setTimeout","forEach","item","questionTime","Math","floor","duration","span","document","createElement","setAttribute","appendChild","tooltipTriggerList","slice","call","querySelectorAll","tooltipTriggerEl","Tooltip","currentMarkStyle","children","mark","markTime","parseInt","getAttribute","backgroundColor","removeProperty","goVideoMarkerPosition","e","isTimelineBtn","target","console","log","currentTime","mounted","plyr","config","invertTime","on","event","pause","length","__exports__","name","components","FirstTest","render"],"sourceRoot":""}